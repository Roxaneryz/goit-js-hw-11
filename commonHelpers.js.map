{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\"; \nimport \"izitoast/dist/css/iziToast.min.css\"; \n\n\nconst API_KEY = '42454875-eb3549610f297412779ff13b6';\n \nexport function fetchImages (searchImg){\n\n  // const url = `https://pixabay.com/api/?key=${API_KEY}&q=${searchImg}&image_type=photo&orientation=horizontal&safesearch=true`;\n\nconst BASE_URL = 'https://pixabay.com/';\nconst END_POINT = 'api/';\nconst params = new URLSearchParams({\n      q: searchImg,\n      key: API_KEY,\n      image_type:'photo',\n      orientation: 'horizontal',\n      safesearch: true\n   \n})\nconst url = `${BASE_URL}${END_POINT}?${params}`;\n\nreturn fetch(url).then(response =>{\n\n    if (!response.ok){\n      throw new Error ('');\n    }\n\n    return response.json();\n})\n\n    .then(data =>{\n      if(data.hits.length > 0){\n        return data.hits\n      }\n      else {\n        iziToast.error({\n          position: \"center\",\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!'\n        });\n        return [];\n      }\n\n    })\n    .catch(error => {\n      iziToast.error({\n        position: \"center\",\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!'\n      });\n\n      return [];\n    })\n\n    }","import SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom'\n\n});\nexport function renderGallery(images) {\n    const galleryContainer = document.getElementById('gallery');\n    galleryContainer.innerHTML = images.map(createImageCard).join('');\n\n    \n     lightbox.refresh();\n   \n  }\n  \n  function createImageCard(image) {\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n  \n    return `<li class=\"card\">\n    <a href=${largeImageURL} > <img\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    /> </a>\n    <ul class=\"gallery\">\n      <li class=\"li-text\"><span>Comments</span><span>${comments}</span></li>\n      <li class=\"li-text\"><span>Views</span><span>${views}</span></li>\n      <li class=\"li-text\"><span>Likes</span><span>${likes}</span></li>\n      <li class=\"li-text\"><span>Download</span><span>${downloads}</span></li>\n    </ul>\n  </li>`\n\n  \n  } \n  ","import {fetchImages} from './js/pixabay-api.js'\nimport {renderGallery} from './js/render-functions.js'\n\n\nconst formElem = document.querySelector(\"#search-form\");\nconst loader =  document.querySelector('.hide');\nformElem.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const query = formElem.elements.input.value;\nshowLoader();\n        fetchImages(query)\n        .then(res => {\n            renderGallery(res);\n            hideLoader();\n            clearForm();\n        })\n        \n}) \n\nfunction showLoader (){\nloader.classList.remove('hide');\n}\n\nfunction hideLoader (){\n    loader.classList.add('hide');\n}\n\nfunction clearForm () {\n    formElem.reset();\n}"],"names":["API_KEY","fetchImages","searchImg","BASE_URL","END_POINT","params","url","response","data","iziToast","error","lightbox","SimpleLightbox","renderGallery","images","galleryContainer","createImageCard","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formElem","loader","e","query","showLoader","res","hideLoader","clearForm"],"mappings":"6vBAIA,MAAMA,EAAU,qCAET,SAASC,EAAaC,EAAU,CAIvC,MAAMC,EAAW,uBACXC,EAAY,OACZC,EAAS,IAAI,gBAAgB,CAC7B,EAAGH,EACH,IAAKF,EACL,WAAW,QACX,YAAa,aACb,WAAY,EAElB,CAAC,EACKM,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAW,CAE9B,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAO,EAAE,EAGrB,OAAOA,EAAS,MACpB,CAAC,EAEI,KAAKC,GACDA,EAAK,KAAK,OAAS,EACbA,EAAK,MAGZC,EAAS,MAAM,CACb,SAAU,SACV,MAAO,QACP,QAAS,0EACnB,CAAS,EACM,GAGV,EACA,MAAMC,IACLD,EAAS,MAAM,CACb,SAAU,SACV,MAAO,QACP,QAAS,0EACjB,CAAO,EAEM,GACR,CAEL,CCnDA,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,QAEnB,CAAC,EACM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAmB,SAAS,eAAe,SAAS,EAC1DA,EAAiB,UAAYD,EAAO,IAAIE,CAAe,EAAE,KAAK,EAAE,EAG/DL,EAAS,QAAO,CAElB,CAED,SAASK,EAAgBC,EAAO,CAC9B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EAEjF,MAAO;AAAA,cACGE,CAAa;AAAA,aACdD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA,uDAGsCG,CAAQ;AAAA,oDACXD,CAAK;AAAA,oDACLD,CAAK;AAAA,uDACFG,CAAS;AAAA;AAAA,QAKhE,CChCA,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAU,SAAS,cAAc,OAAO,EAC9CD,EAAS,iBAAiB,SAAWE,GAAM,CACvCA,EAAE,eAAc,EAChB,MAAMC,EAAQH,EAAS,SAAS,MAAM,MAC1CI,IACQ5B,EAAY2B,CAAK,EAChB,KAAKE,GAAO,CACTjB,EAAciB,CAAG,EACjBC,IACAC,GACZ,CAAS,CAET,CAAC,EAED,SAASH,GAAa,CACtBH,EAAO,UAAU,OAAO,MAAM,CAC9B,CAEA,SAASK,GAAa,CAClBL,EAAO,UAAU,IAAI,MAAM,CAC/B,CAEA,SAASM,GAAa,CAClBP,EAAS,MAAK,CAClB"}